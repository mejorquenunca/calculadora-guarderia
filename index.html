<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora - Mis Consentidos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-image: url('https://raw.githubusercontent.com/mejorquenunca/calculadora-guarderia/main/fondo-guarderia.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.7);
            z-index: 0;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        }
        
        .meal-card {
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            background-size: cover;
            background-position: center;
            height: 200px;
        }
        
        .meal-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.7) 100%);
            transition: all 0.3s ease;
        }
        
        .meal-card:hover::before {
            background: linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.85) 100%);
        }
        
        .meal-card.selected::after {
            content: '‚úì';
            position: absolute;
            top: 10px;
            right: 10px;
            width: 40px;
            height: 40px;
            background: #22C55E;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            font-weight: bold;
        }
        
        .price-tag {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #FACC15 0%, #F59E0B 100%);
            padding: 12px;
            text-align: center;
            font-weight: bold;
            color: #1E40AF;
            font-size: 18px;
        }
        
        .meal-content {
            position: relative;
            z-index: 1;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            padding: 16px;
            padding-bottom: 60px; /* Espacio para la franja de precio */
        }
        
        .meal-icon {
            font-size: 48px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            margin-bottom: 8px;
        }
        
        .meal-title {
            color: white;
            font-weight: bold;
            font-size: 16px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%);
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.6);
        }
        
        input[type="range"]::-moz-range-thumb {
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%);
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.6);
        }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8">

<div class="max-w-6xl mx-auto relative z-10">
    
    <!-- T√≠tulo -->
    <div class="text-center mb-8">
        <h1 class="text-4xl md:text-5xl font-extrabold text-blue-900 mb-3 drop-shadow-lg">
            Calcula Tu Presupuesto
        </h1>
        <p class="text-gray-700 text-lg font-semibold">
            Personaliza el cuidado perfecto para tu peque√±o
        </p>
    </div>

    <!-- Grid de Tarjetas -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
        
        <!-- TARJETA 1: Horario -->
        <div class="glass-card rounded-2xl p-6">
            <div class="flex items-center mb-4">
                <div class="bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-full w-12 h-12 flex items-center justify-center font-bold text-xl mr-3 shadow-lg">
                    1
                </div>
                <h3 class="text-2xl font-bold text-blue-900">‚è∞ Horario Diario</h3>
            </div>
            
            <div class="space-y-4">
                <div class="flex justify-between items-center">
                    <span class="text-gray-800 font-semibold">Horas por d√≠a:</span>
                    <span id="displayHoras" class="text-4xl font-extrabold text-blue-600">4h</span>
                </div>
                <input type="range" id="numHoras" min="4" max="12" value="4" 
                    class="w-full h-3 bg-blue-200 rounded-lg appearance-none cursor-pointer">
                <div class="flex justify-between text-sm text-gray-600 font-medium">
                    <span>4 horas</span>
                    <span>8 horas</span>
                    <span>12 horas</span>
                </div>
                <div class="glass-card p-3 rounded-lg">
                    <p class="text-sm text-gray-800 font-medium">
                        üí° Horario flexible: 7am a 10pm (Lunes a S√°bado)
                    </p>
                </div>
            </div>
        </div>

        <!-- TARJETA 2: Alimentaci√≥n -->
        <div class="glass-card rounded-2xl p-6">
            <div class="flex items-center mb-4">
                <div class="bg-gradient-to-br from-yellow-500 to-yellow-600 text-white rounded-full w-12 h-12 flex items-center justify-center font-bold text-xl mr-3 shadow-lg">
                    2
                </div>
                <h3 class="text-2xl font-bold text-blue-900">üçΩÔ∏è Alimentaci√≥n</h3>
            </div>
            
            <div class="grid grid-cols-3 gap-3">
                <!-- Desayuno -->
                <div class="meal-card rounded-xl" 
                     style="background-image: url('https://images.unsplash.com/photo-1533089860892-a7c6f0a88666?w=400')"
                     data-meal="desayuno">
                    <div class="meal-content">
                        <div class="meal-icon">üç≥</div>
                        <div class="text-white font-bold text-lg">Desayuno</div>
                    </div>
                    <div class="price-tag">+S/ 20/sem</div>
                </div>
                
                <!-- Almuerzo -->
                <div class="meal-card rounded-xl" 
                     style="background-image: url('https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400')"
                     data-meal="almuerzo">
                    <div class="meal-content">
                        <div class="meal-icon">üç≤</div>
                        <div class="text-white font-bold text-lg">Almuerzo</div>
                    </div>
                    <div class="price-tag">+S/ 20/sem</div>
                </div>
                
                <!-- Merienda -->
                <div class="meal-card rounded-xl" 
                     style="background-image: url('https://images.unsplash.com/photo-1488477181946-6428a0291777?w=400')"
                     data-meal="merienda">
                    <div class="meal-content">
                        <div class="meal-icon">üßÉ</div>
                        <div class="text-white font-bold text-lg">Merienda</div>
                    </div>
                    <div class="price-tag">+S/ 20/sem</div>
                </div>
            </div>
        </div>

    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        
        <!-- TARJETA 3: Extras -->
        <div class="glass-card rounded-2xl p-6">
            <div class="flex items-center mb-4">
                <div class="bg-gradient-to-br from-green-500 to-green-600 text-white rounded-full w-12 h-12 flex items-center justify-center font-bold text-xl mr-3 shadow-lg">
                    3
                </div>
                <h3 class="text-2xl font-bold text-blue-900">‚≠ê Servicios Adicionales</h3>
            </div>
            
            <label class="flex items-center justify-between p-4 glass-card rounded-xl cursor-pointer hover:bg-white/30 transition">
                <div class="flex items-center">
                    <input type="checkbox" id="pedagogico" class="w-6 h-6 text-green-600 rounded focus:ring-green-500 mr-3">
                    <div>
                        <span class="font-bold text-gray-800 text-lg">üìö Acompa√±amiento Pedag√≥gico</span>
                        <p class="text-sm text-gray-700">Estimulaci√≥n temprana y actividades educativas</p>
                    </div>
                </div>
                <span class="text-2xl font-extrabold text-green-600">+S/ 20</span>
            </label>
        </div>

        <!-- TARJETA 4: Frecuencia -->
        <div class="glass-card rounded-2xl p-6">
            <div class="flex items-center mb-4">
                <div class="bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-full w-12 h-12 flex items-center justify-center font-bold text-xl mr-3 shadow-lg">
                    4
                </div>
                <h3 class="text-2xl font-bold text-blue-900">üí≥ Frecuencia de Pago</h3>
            </div>
            
            <div class="grid grid-cols-3 gap-3">
                <label>
                    <input type="radio" name="frecuenciaPago" value="semanal" checked class="peer hidden">
                    <div class="peer-checked:bg-gradient-to-br peer-checked:from-purple-500 peer-checked:to-purple-600 peer-checked:text-white glass-card rounded-lg p-3 text-center cursor-pointer hover:bg-white/40 transition font-bold text-gray-800 peer-checked:shadow-lg">
                        Semanal
                    </div>
                </label>
                <label>
                    <input type="radio" name="frecuenciaPago" value="quincenal" class="peer hidden">
                    <div class="peer-checked:bg-gradient-to-br peer-checked:from-purple-500 peer-checked:to-purple-600 peer-checked:text-white glass-card rounded-lg p-3 text-center cursor-pointer hover:bg-white/40 transition font-bold text-gray-800 peer-checked:shadow-lg">
                        Quincenal
                    </div>
                </label>
                <label>
                    <input type="radio" name="frecuenciaPago" value="mensual" class="peer hidden">
                    <div class="peer-checked:bg-gradient-to-br peer-checked:from-purple-500 peer-checked:to-purple-600 peer-checked:text-white glass-card rounded-lg p-3 text-center cursor-pointer hover:bg-white/40 transition font-bold text-gray-800 peer-checked:shadow-lg">
                        Mensual
                    </div>
                </label>
            </div>
        </div>

    </div>

    <!-- Resultado -->
    <div class="mt-6 bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl p-8 shadow-2xl">
        <h3 class="text-2xl font-bold mb-6 text-center text-white">üìä Desglose de Costos</h3>
        
        <div class="space-y-3 mb-6 glass-card rounded-xl p-4">
            <div class="flex justify-between items-center text-white">
                <span>üè† Guarder√≠a (<span id="detailHoras">4</span>h/d√≠a):</span>
                <span class="font-bold text-xl" id="detailGuarderia">S/ 60</span>
            </div>
            <div class="flex justify-between items-center text-white" id="rowComidas" style="display: none;">
                <span>üçΩÔ∏è Comidas (<span id="detailNumComidas">0</span>):</span>
                <span class="font-bold text-xl" id="detailComidas">S/ 0</span>
            </div>
            <div class="flex justify-between items-center text-white" id="rowPedagogico" style="display: none;">
                <span>üìö Acompa√±amiento Pedag√≥gico:</span>
                <span class="font-bold text-xl">S/ 20</span>
            </div>
            <div class="border-t-2 border-white/30 pt-3 mt-3"></div>
            <div class="flex justify-between items-center text-yellow-300">
                <span class="font-bold text-xl">üí∞ TOTAL <span id="labelFrecuencia">SEMANAL</span>:</span>
                <span class="font-extrabold text-5xl" id="costoEstimado">S/ 60</span>
            </div>
        </div>

        <p class="text-center text-sm text-blue-100">
            Este es un estimado. Cont√°ctanos para una cotizaci√≥n exacta.
        </p>
    </div>

</div>

<script>
    const numHorasInput = document.getElementById('numHoras');
    const displayHoras = document.getElementById('displayHoras');
    const pedagogicoCheckbox = document.getElementById('pedagogico');
    const frecuenciaPagoRadios = document.querySelectorAll('input[name="frecuenciaPago"]');
    const mealCards = document.querySelectorAll('.meal-card[data-meal]');
    
    const detailHoras = document.getElementById('detailHoras');
    const detailGuarderia = document.getElementById('detailGuarderia');
    const detailNumComidas = document.getElementById('detailNumComidas');
    const detailComidas = document.getElementById('detailComidas');
    const rowComidas = document.getElementById('rowComidas');
    const rowPedagogico = document.getElementById('rowPedagogico');
    const costoEstimadoSpan = document.getElementById('costoEstimado');
    const labelFrecuencia = document.getElementById('labelFrecuencia');

    const precioBaseSemanal4Horas = 60;
    const incrementoSemanalPorHora = 6;
    const costoComidaSemanal = 20;
    const costoPedagogicoSemanal = 20;

    let comidasSeleccionadas = new Set();

    mealCards.forEach(card => {
        card.addEventListener('click', function() {
            const meal = this.getAttribute('data-meal');
            
            if (comidasSeleccionadas.has(meal)) {
                comidasSeleccionadas.delete(meal);
                this.classList.remove('selected');
            } else {
                comidasSeleccionadas.add(meal);
                this.classList.add('selected');
            }
            
            calcularCosto();
        });
    });

    function calcularCosto() {
        const horasDiarias = parseInt(numHorasInput.value);
        const tienePedagogico = pedagogicoCheckbox.checked;
        const numComidas = comidasSeleccionadas.size;
        const frecuenciaSeleccionada = document.querySelector('input[name="frecuenciaPago"]:checked').value;

        let costoGuarderiaSemanal = precioBaseSemanal4Horas;
        if (horasDiarias > 4) {
            costoGuarderiaSemanal += (horasDiarias - 4) * incrementoSemanalPorHora;
        }

        const costoComidasSemanal = numComidas * costoComidaSemanal;
        const costoPedagogico = tienePedagogico ? costoPedagogicoSemanal : 0;
        const totalSemanal = costoGuarderiaSemanal + costoComidasSemanal + costoPedagogico;

        let costoFinal = totalSemanal;
        let labelFrec = 'SEMANAL';
        
        switch (frecuenciaSeleccionada) {
            case 'quincenal':
                costoFinal = totalSemanal * 2;
                labelFrec = 'QUINCENAL';
                break;
            case 'mensual':
                costoFinal = totalSemanal * 4;
                labelFrec = 'MENSUAL';
                break;
        }

        displayHoras.textContent = `${horasDiarias}h`;
        detailHoras.textContent = horasDiarias;
        detailGuarderia.textContent = `S/ ${costoGuarderiaSemanal}`;
        
        if (numComidas > 0) {
            rowComidas.style.display = 'flex';
            detailNumComidas.textContent = numComidas;
            detailComidas.textContent = `S/ ${costoComidasSemanal}`;
        } else {
            rowComidas.style.display = 'none';
        }
        
        rowPedagogico.style.display = tienePedagogico ? 'flex' : 'none';
        
        labelFrecuencia.textContent = labelFrec;
        costoEstimadoSpan.textContent = `S/ ${costoFinal}`;
    }

    numHorasInput.addEventListener('input', calcularCosto);
    pedagogicoCheckbox.addEventListener('change', calcularCosto);
    frecuenciaPagoRadios.forEach(radio => radio.addEventListener('change', calcularCosto));

    calcularCosto();
</script>

</body>
</html>
