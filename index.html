<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Mis Consentidos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .service-card {
            transition: all 0.3s ease;
        }
        .service-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .checkbox-card {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .checkbox-card.selected {
            background: linear-gradient(135deg, #FACC15 0%, #F59E0B 100%);
            border-color: #F59E0B;
            color: #1E40AF;
        }
        .price-breakdown {
            animation: slideIn 0.5s ease;
        }
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            background: #3B82F6;
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);
        }
        input[type="range"]::-moz-range-thumb {
            width: 24px;
            height: 24px;
            background: #3B82F6;
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);
        }
    </style>
</head>
<body class="bg-gray-50 p-8">

<div class="max-w-4xl mx-auto">
    <!-- T√≠tulo Principal -->
    <div class="text-center mb-8">
        <h1 class="text-4xl font-extrabold text-blue-900 mb-3">
            Calcula Tu Presupuesto
        </h1>
        <p class="text-gray-600 text-lg">
            Personaliza el cuidado perfecto para tu peque√±o
        </p>
    </div>

                <!-- ====== BANNER DE URGENCIA ====== -->
            <div class="urgency-banner bg-gradient-to-r from-red-500 to-red-600 text-white py-4 px-6 rounded-lg shadow-xl max-w-3xl mx-auto mb-8 animate-bounce-slow">
            <div class="flex items-center justify-center gap-3 text-center flex-wrap">
                <svg class="w-8 h-8 animate-pulse flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                </svg>
                <div>
                <p class="text-2xl font-extrabold">üî• ¬°Solo quedan 5 cupos disponibles!</p>
                <p class="text-sm opacity-90 mt-1">Promoci√≥n de inscripci√≥n: -20% si reservas esta semana</p>
                </div>
            </div>
            </div>

            <style>
            @keyframes bounce-slow {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-5px);
            }
            }

            .animate-bounce-slow {
            animation: bounce-slow 3s ease-in-out infinite;
            }
            </style>
            <!-- ====== FIN BANNER URGENCIA ====== -->

    <!-- Tarjeta Principal -->
    <div class="bg-white rounded-2xl shadow-xl p-8 space-y-8">
        
        <!-- PASO 1: Horario -->
        <div class="service-card border-2 border-blue-100 rounded-xl p-6 bg-gradient-to-br from-blue-50 to-white">
            <div class="flex items-center mb-4">
                <div class="bg-blue-500 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold text-lg mr-3">
                    1
                </div>
                <h3 class="text-2xl font-bold text-blue-900">‚è∞ Horario Diario</h3>
            </div>
            
            <div class="space-y-4">
                <div class="flex justify-between items-center">
                    <span class="text-gray-700 font-semibold">Horas por d√≠a:</span>
                    <span id="displayHoras" class="text-3xl font-extrabold text-blue-600">4h</span>
                </div>
                <input type="range" id="numHoras" min="4" max="12" value="4" 
                    class="w-full h-3 bg-blue-200 rounded-lg appearance-none cursor-pointer">
                <div class="flex justify-between text-sm text-gray-500">
                    <span>4 horas</span>
                    <span>8 horas</span>
                    <span>12 horas</span>
                </div>
                <p class="text-sm text-gray-600 bg-blue-50 p-3 rounded-lg">
                    üí° <strong>Horario flexible:</strong> 7am a 10pm de Lunes a S√°bado
                </p>
            </div>
        </div>

        <!-- PASO 2: Comidas -->
        <div class="service-card border-2 border-yellow-100 rounded-xl p-6 bg-gradient-to-br from-yellow-50 to-white">
            <div class="flex items-center mb-4">
                <div class="bg-yellow-500 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold text-lg mr-3">
                    2
                </div>
                <h3 class="text-2xl font-bold text-blue-900">üçΩÔ∏è Alimentaci√≥n</h3>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                <!-- Desayuno -->
                <div class="checkbox-card border-2 border-gray-200 rounded-xl p-4 text-center" 
                     data-meal="desayuno" data-cost="20">
                    <div class="text-4xl mb-2">üç≥</div>
                    <h4 class="font-bold text-gray-800 mb-1">Desayuno</h4>
                    <p class="text-2xl font-extrabold text-yellow-600">+S/ 20</p>
                    <p class="text-xs text-gray-500 mt-1">por semana</p>
                </div>
                
                <!-- Almuerzo -->
                <div class="checkbox-card border-2 border-gray-200 rounded-xl p-4 text-center" 
                     data-meal="almuerzo" data-cost="20">
                    <div class="text-4xl mb-2">üç≤</div>
                    <h4 class="font-bold text-gray-800 mb-1">Almuerzo</h4>
                    <p class="text-2xl font-extrabold text-yellow-600">+S/ 20</p>
                    <p class="text-xs text-gray-500 mt-1">por semana</p>
                </div>
                
                <!-- Merienda -->
                <div class="checkbox-card border-2 border-gray-200 rounded-xl p-4 text-center" 
                     data-meal="merienda" data-cost="20">
                    <div class="text-4xl mb-2">üßÉ</div>
                    <h4 class="font-bold text-gray-800 mb-1">Merienda</h4>
                    <p class="text-2xl font-extrabold text-yellow-600">+S/ 20</p>
                    <p class="text-xs text-gray-500 mt-1">por semana</p>
                </div>
            </div>
        </div>

        <!-- PASO 3: Extras -->
        <div class="service-card border-2 border-green-100 rounded-xl p-6 bg-gradient-to-br from-green-50 to-white">
            <div class="flex items-center mb-4">
                <div class="bg-green-500 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold text-lg mr-3">
                    3
                </div>
                <h3 class="text-2xl font-bold text-blue-900">‚≠ê Servicios Adicionales</h3>
            </div>
            
            <div class="space-y-3">
                <label class="flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:bg-green-50 transition">
                    <div class="flex items-center">
                        <input type="checkbox" id="pedagogico" class="w-5 h-5 text-green-600 rounded focus:ring-green-500 mr-3">
                        <div>
                            <span class="font-bold text-gray-800">üìö Acompa√±amiento Pedag√≥gico</span>
                            <p class="text-sm text-gray-500">Estimulaci√≥n temprana y actividades educativas</p>
                        </div>
                    </div>
                    <span class="text-xl font-extrabold text-green-600">+S/ 20</span>
                </label>
            </div>
        </div>

        <!-- Frecuencia de Pago -->
        <div class="border-2 border-purple-100 rounded-xl p-6 bg-gradient-to-br from-purple-50 to-white">
            <h3 class="text-xl font-bold text-blue-900 mb-4">üí≥ Frecuencia de Pago</h3>
            <div class="flex flex-wrap gap-3">
                <label class="flex-1 min-w-[120px]">
                    <input type="radio" name="frecuenciaPago" value="semanal" checked class="peer hidden">
                    <div class="peer-checked:bg-purple-500 peer-checked:text-white peer-checked:border-purple-500 border-2 border-gray-300 rounded-lg p-3 text-center cursor-pointer hover:border-purple-300 transition font-semibold">
                        Semanal
                    </div>
                </label>
                <label class="flex-1 min-w-[120px]">
                    <input type="radio" name="frecuenciaPago" value="quincenal" class="peer hidden">
                    <div class="peer-checked:bg-purple-500 peer-checked:text-white peer-checked:border-purple-500 border-2 border-gray-300 rounded-lg p-3 text-center cursor-pointer hover:border-purple-300 transition font-semibold">
                        Quincenal
                    </div>
                </label>
                <label class="flex-1 min-w-[120px]">
                    <input type="radio" name="frecuenciaPago" value="mensual" class="peer hidden">
                    <div class="peer-checked:bg-purple-500 peer-checked:text-white peer-checked:border-purple-500 border-2 border-gray-300 rounded-lg p-3 text-center cursor-pointer hover:border-purple-300 transition font-semibold">
                        Mensual
                    </div>
                </label>
            </div>
        </div>

        <!-- Resultado con Desglose -->
        <div class="price-breakdown bg-gradient-to-br from-blue-600 to-blue-700 text-white rounded-2xl p-8 shadow-2xl">
            <h3 class="text-2xl font-bold mb-6 text-center">üìä Desglose de Costos</h3>
            
            <!-- Desglose detallado -->
            <div class="space-y-3 mb-6 bg-white/10 rounded-xl p-4 backdrop-blur">
                <div class="flex justify-between items-center">
                    <span class="text-blue-100">üè† Guarder√≠a (<span id="detailHoras">4</span>h/d√≠a):</span>
                    <span class="font-bold text-xl" id="detailGuarderia">S/ 60</span>
                </div>
                <div class="flex justify-between items-center" id="rowComidas" style="display: none;">
                    <span class="text-blue-100">üçΩÔ∏è Comidas (<span id="detailNumComidas">0</span>):</span>
                    <span class="font-bold text-xl" id="detailComidas">S/ 0</span>
                </div>
                <div class="flex justify-between items-center" id="rowPedagogico" style="display: none;">
                    <span class="text-blue-100">üìö Acompa√±amiento Pedag√≥gico:</span>
                    <span class="font-bold text-xl">S/ 20</span>
                </div>
                <div class="border-t-2 border-white/30 pt-3 mt-3"></div>
                <div class="flex justify-between items-center text-yellow-300">
                    <span class="font-bold text-lg">üí∞ TOTAL <span id="labelFrecuencia">SEMANAL</span>:</span>
                    <span class="font-extrabold text-4xl" id="costoEstimado">S/ 60</span>
                </div>
            </div>

            <p class="text-center text-sm text-blue-100 opacity-90">
                Este es un estimado. Cont√°ctanos para una cotizaci√≥n exacta.
            </p>

            <!-- ====== BOTONES DE ACCI√ìN ====== -->
            <div class="mt-6 flex flex-col sm:flex-row gap-4 justify-center">
            <a 
                href="https://wa.me/51934859892?text=Hola,%20quiero%20agendar%20una%20visita%20gratuita%20a%20Mis%20Consentidos" 
                target="_blank"
                class="cta-button cta-primary"
            >
                üìÖ Agendar Visita GRATIS
            </a>
            <a 
                href="https://wa.me/51934859892?text=Hola,%20quiero%20informaci√≥n%20sobre%20disponibilidad%20de%20cupos" 
                target="_blank"
                class="cta-button cta-secondary"
            >
                ‚è∞ Ver Disponibilidad
            </a>
            </div>

            <style>
            .cta-button {
            display: inline-block;
            padding: 14px 28px;
            border-radius: 8px;
            font-weight: 700;
            font-size: 16px;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            text-align: center;
            }

            .cta-primary {
            background: linear-gradient(135deg, #FACC15 0%, #F59E0B 100%);
            color: #1E40AF;
            }

            .cta-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(245, 158, 11, 0.4);
            }

            .cta-secondary {
            background: white;
            color: #1E40AF;
            border: 2px solid #FACC15;
            }

            .cta-secondary:hover {
            background: #FEF3C7;
            transform: translateY(-2px);
            }

            @media (max-width: 640px) {
            .cta-button {
                width: 100%;
                font-size: 15px;
                padding: 12px 20px;
            }
            }
            </style>
            <!-- ====== FIN BOTONES CTA ====== -->

        </div>

    </div>
</div>

<script>
    // Referencias a elementos
    const numHorasInput = document.getElementById('numHoras');
    const displayHoras = document.getElementById('displayHoras');
    const pedagogicoCheckbox = document.getElementById('pedagogico');
    const frecuenciaPagoRadios = document.querySelectorAll('input[name="frecuenciaPago"]');
    const mealCards = document.querySelectorAll('.checkbox-card[data-meal]');
    
    // Referencias de desglose
    const detailHoras = document.getElementById('detailHoras');
    const detailGuarderia = document.getElementById('detailGuarderia');
    const detailNumComidas = document.getElementById('detailNumComidas');
    const detailComidas = document.getElementById('detailComidas');
    const rowComidas = document.getElementById('rowComidas');
    const rowPedagogico = document.getElementById('rowPedagogico');
    const costoEstimadoSpan = document.getElementById('costoEstimado');
    const labelFrecuencia = document.getElementById('labelFrecuencia');

    // Precios base
    const precioBaseSemanal4Horas = 60;
    const incrementoSemanalPorHora = 6;
    const costoComidaSemanal = 20;
    const costoPedagogicoSemanal = 20;

    // Estado de comidas seleccionadas
    let comidasSeleccionadas = new Set();

    // Manejar clic en tarjetas de comida
    mealCards.forEach(card => {
        card.addEventListener('click', function() {
            const meal = this.getAttribute('data-meal');
            
            if (comidasSeleccionadas.has(meal)) {
                comidasSeleccionadas.delete(meal);
                this.classList.remove('selected');
            } else {
                comidasSeleccionadas.add(meal);
                this.classList.add('selected');
            }
            
            calcularCosto();
        });
    });

    // Funci√≥n para calcular el costo
    function calcularCosto() {
        const horasDiarias = parseInt(numHorasInput.value);
        const tienePedagogico = pedagogicoCheckbox.checked;
        const numComidas = comidasSeleccionadas.size;
        const frecuenciaSeleccionada = document.querySelector('input[name="frecuenciaPago"]:checked').value;

        // Calcular costo base de guarder√≠a
        let costoGuarderiaSemanal = precioBaseSemanal4Horas;
        if (horasDiarias > 4) {
            costoGuarderiaSemanal += (horasDiarias - 4) * incrementoSemanalPorHora;
        }

        // Calcular comidas
        const costoComidasSemanal = numComidas * costoComidaSemanal;

        // Calcular pedag√≥gico
        const costoPedagogico = tienePedagogico ? costoPedagogicoSemanal : 0;

        // Total semanal
        const totalSemanal = costoGuarderiaSemanal + costoComidasSemanal + costoPedagogico;

        // Calcular seg√∫n frecuencia
        let costoFinal = totalSemanal;
        let labelFrec = 'SEMANAL';
        
        switch (frecuenciaSeleccionada) {
            case 'quincenal':
                costoFinal = totalSemanal * 2;
                labelFrec = 'QUINCENAL';
                break;
            case 'mensual':
                costoFinal = totalSemanal * 4;
                labelFrec = 'MENSUAL';
                break;
        }

        // Actualizar UI
        displayHoras.textContent = `${horasDiarias}h`;
        detailHoras.textContent = horasDiarias;
        detailGuarderia.textContent = `S/ ${costoGuarderiaSemanal}`;
        
        // Mostrar/ocultar filas de desglose
        if (numComidas > 0) {
            rowComidas.style.display = 'flex';
            detailNumComidas.textContent = numComidas;
            detailComidas.textContent = `S/ ${costoComidasSemanal}`;
        } else {
            rowComidas.style.display = 'none';
        }
        
        rowPedagogico.style.display = tienePedagogico ? 'flex' : 'none';
        
        labelFrecuencia.textContent = labelFrec;
        costoEstimadoSpan.textContent = `S/ ${costoFinal}`;
    }

    // Event listeners
    numHorasInput.addEventListener('input', calcularCosto);
    pedagogicoCheckbox.addEventListener('change', calcularCosto);
    frecuenciaPagoRadios.forEach(radio => radio.addEventListener('change', calcularCosto));

    // Calcular costo inicial
    calcularCosto();
</script>

<!-- ====== BOT√ìN WHATSAPP FLOTANTE ====== -->
<a 
  href="https://wa.me/51934859892?text=Hola,%20vi%20su%20p√°gina%20web%20y%20quiero%20informaci√≥n%20sobre%20Mis%20Consentidos" 
  target="_blank" 
  rel="noopener noreferrer" 
  class="whatsapp-float-btn"
  aria-label="Contactar por WhatsApp"
>
  <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 0C7.164 0 0 7.164 0 16c0 2.832.744 5.488 2.04 7.792L0 32l8.4-2.008A15.91 15.91 0 0016 32c8.836 0 16-7.164 16-16S24.836 0 16 0zm0 29.2c-2.552 0-4.932-.728-6.944-1.984l-.496-.296-5.152 1.232 1.28-4.992-.328-.52A13.144 13.144 0 012.8 16c0-7.28 5.92-13.2 13.2-13.2S29.2 8.72 29.2 16 23.28 29.2 16 29.2z" fill="white"/>
    <path d="M23.2 19.36c-.4-.2-2.36-1.16-2.72-1.296-.36-.136-.624-.2-.888.2-.264.4-1.024 1.296-1.256 1.56-.232.264-.464.296-.864.096-.4-.2-1.688-.624-3.216-1.984-1.192-1.056-1.992-2.368-2.224-2.768-.232-.4-.024-.616.176-.816.176-.176.4-.464.6-.696.2-.232.264-.4.4-.664.136-.264.072-.496-.04-.696-.112-.2-1.032-2.48-1.416-3.4-.376-.896-.744-.776-1.024-.792-.264-.016-.56-.016-.856-.016-.296 0-.776.112-1.184.56-.408.448-1.552 1.52-1.552 3.704s1.592 4.296 1.808 4.592c.216.296 3.056 4.664 7.4 6.544 1.032.448 1.84.712 2.472.912.984.312 1.88.264 2.592.16.792-.12 2.36-.968 2.696-1.896.336-.928.336-1.728.232-1.896-.104-.168-.4-.264-.8-.464z" fill="white"/>
  </svg>
  <span class="whatsapp-text">Reserva tu cupo</span>
</a>

<style>
.whatsapp-float-btn {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
  color: white;
  border-radius: 50px;
  padding: 15px 25px;
  display: flex;
  align-items: center;
  gap: 12px;
  box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
  z-index: 1000;
  text-decoration: none;
  font-weight: 600;
  font-size: 15px;
  transition: all 0.3s ease;
  animation: whatsapp-pulse 2s infinite;
}

.whatsapp-float-btn:hover {
  transform: scale(1.05) translateY(-2px);
  box-shadow: 0 6px 30px rgba(37, 211, 102, 0.6);
}

.whatsapp-text {
  color: white;
}

@keyframes whatsapp-pulse {
  0%, 100% {
    box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
  }
  50% {
    box-shadow: 0 4px 30px rgba(37, 211, 102, 0.7);
  }
}

@media (max-width: 768px) {
  .whatsapp-float-btn {
    bottom: 20px;
    right: 20px;
    padding: 12px 20px;
    font-size: 14px;
  }
  
  .whatsapp-float-btn svg {
    width: 24px;
    height: 24px;
  }
}

@media (max-width: 480px) {
  .whatsapp-text {
    display: none;
  }
  
  .whatsapp-float-btn {
    padding: 15px;
    border-radius: 50%;
  }
}
</style>
<!-- ====== FIN BOT√ìN WHATSAPP ====== -->

</body>
</html>